<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connexion - SaaS FEC</title>
<style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 50%, #dee2e6 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        /* SPECTRE LUMINEUX PRINCIPAL - Style Arcane */
        body::before {
            content: '';
            position: fixed;
            top: -20%;
            left: -20%;
            width: 140%;
            height: 140%;
            background:
                conic-gradient(from 0deg at 30% 40%,
                    #ff0844 0deg,      /* Rouge électrique */
                    #ff4500 40deg,     /* Orange rouge */
                    #ffb700 80deg,     /* Orange doré */
                    #ffd700 120deg,    /* Jaune vif */
                    #06ffa5 160deg,    /* Vert néon */
                    #00ff88 200deg,    /* Vert émeraude */
                    #00d4ff 240deg,    /* Cyan électrique */
                    #0099ff 280deg,    /* Bleu vif */
                    #a855f7 320deg,    /* Violet */
                    #ff0844 360deg     /* Retour rouge */
                ),
                radial-gradient(ellipse at 60% 20%,
                    rgba(255, 8, 68, 0.4) 0%,
                    rgba(255, 183, 0, 0.3) 30%,
                    transparent 60%
                ),
                radial-gradient(ellipse at 20% 80%,
                    rgba(6, 255, 165, 0.4) 0%,
                    rgba(168, 85, 247, 0.3) 30%,
                    transparent 60%
                );
            opacity: 0.6;
            filter: blur(120px);
            animation: spectreRotation 30s linear infinite;
            pointer-events: none;
            z-index: 0;
        }

        /* SECOND HALO PRISME - Effet de diffraction */
        body::after {
            content: '';
            position: fixed;
            top: 60%;
            right: 15%;
            width: 600px;
            height: 300px;
            background:
                linear-gradient(-45deg,
                    #2196f3 0%,     /* Bleu */
                    #00bcd4 20%,    /* Cyan */
                    #4caf50 40%,    /* Vert */
                    #ffeb3b 60%,    /* Jaune */
                    #ff9800 80%,    /* Orange */
                    #f44336 100%    /* Rouge */
                );
            opacity: 0.12;
            filter: blur(90px);
            border-radius: 60%;
            animation: prismDrift 25s ease-in-out infinite reverse;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes prismFloat {
            0%, 100% {
                transform: translateX(-20px) translateY(-30px) rotate(0deg) scale(1);
                opacity: 0.15;
            }
            25% {
                transform: translateX(30px) translateY(-10px) rotate(90deg) scale(1.1);
                opacity: 0.25;
            }
            50% {
                transform: translateX(20px) translateY(40px) rotate(180deg) scale(1.05);
                opacity: 0.2;
            }
            75% {
                transform: translateX(-10px) translateY(20px) rotate(270deg) scale(1.08);
                opacity: 0.18;
            }
        }

        @keyframes prismDrift {
            0%, 100% {
                transform: translateX(0px) translateY(0px) scale(1);
                opacity: 0.12;
            }
            50% {
                transform: translateX(-40px) translateY(-20px) scale(1.15);
                opacity: 0.22;
            }
        }

        /* Effet nacré prismatique comme une coquille */
        body::before {
            content: '';
            position: fixed;
            top: -100%;
            left: -100%;
            width: 300%;
            height: 300%;
            background:
                conic-gradient(from 0deg at 30% 40%,
                    transparent 0deg,
                    rgba(255, 223, 186, 0.03) 45deg,
                    rgba(186, 255, 201, 0.04) 90deg,
                    rgba(186, 225, 255, 0.05) 135deg,
                    rgba(255, 186, 255, 0.03) 180deg,
                    rgba(255, 255, 186, 0.04) 225deg,
                    rgba(201, 186, 255, 0.03) 270deg,
                    rgba(255, 201, 186, 0.04) 315deg,
                    transparent 360deg
                ),
                radial-gradient(ellipse at 60% 70%,
                    rgba(255, 255, 255, 0.08) 0%,
                    rgba(240, 248, 255, 0.04) 30%,
                    transparent 70%
                );
            animation: prismaticFlow 20s ease-in-out infinite;
            pointer-events: none;
        }

        /* Effet de halo lumineux secondaire */
        body::after {
            content: '';
            position: fixed;
            top: 20%;
            right: 10%;
            width: 400px;
            height: 400px;
            background: radial-gradient(circle,
                rgba(255, 255, 255, 0.12) 0%,
                rgba(248, 250, 252, 0.06) 30%,
                transparent 70%
            );
            border-radius: 50%;
            animation: haloFloat 15s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes prismaticFlow {
            0%, 100% {
                transform: translateX(-10%) translateY(-15%) rotate(0deg) scale(1);
                opacity: 0.4;
            }
            25% {
                transform: translateX(5%) translateY(-5%) rotate(90deg) scale(1.1);
                opacity: 0.7;
            }
            50% {
                transform: translateX(10%) translateY(10%) rotate(180deg) scale(1.05);
                opacity: 0.8;
            }
            75% {
                transform: translateX(-5%) translateY(15%) rotate(270deg) scale(1.08);
                opacity: 0.6;
            }
        }

        @keyframes haloFloat {
            0%, 100% {
                transform: translateY(0px) scale(1);
                opacity: 0.3;
            }
            50% {
                transform: translateY(-20px) scale(1.1);
                opacity: 0.6;
            }
        }

        .login-wrapper {
            width: 100%;
            max-width: 380px;
            margin: 20px;
            position: relative;
        }

.login-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 24px;
            box-shadow:
                0 32px 64px rgba(0, 0, 0, 0.06),
                0 16px 32px rgba(0, 0, 0, 0.04),
                0 8px 16px rgba(0, 0, 0, 0.02),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
            overflow: visible;
            position: relative;
            transition: all 0.4s cubic-bezier(0.25, 0.1, 0.25, 1);
            z-index: 10;
        }

/* HALO LUMINEUX ROUGE - Émane du cadre */
        .login-container::before {
            content: '';
            position: absolute;
            top: -150px;
            left: -150px;
            right: -150px;
            bottom: -150px;
            background:
                radial-gradient(ellipse at center,
                    rgba(255, 59, 48, 0.8) 0%,      /* Rouge très intense */
                    rgba(255, 69, 58, 0.6) 15%,     /* Rouge intense */
                    rgba(255, 82, 82, 0.4) 30%,     /* Rouge moyen */
                    rgba(255, 82, 82, 0.2) 50%,     /* Rouge faible */
                    transparent 70%
                );
            filter: blur(30px);
            animation: haloRouge 6s ease-in-out infinite;
            pointer-events: none;
            z-index: -6;
        }

        /* HALO LUMINEUX ORANGE */
        .login-container::after {
            content: '';
            position: absolute;
            top: -180px;
            left: -180px;
            right: -180px;
            bottom: -180px;
            background:
                radial-gradient(ellipse at center,
                    rgba(255, 149, 0, 0.7) 0%,      /* Orange très intense */
                    rgba(255, 159, 10, 0.5) 20%,    /* Orange intense */
                    rgba(255, 169, 30, 0.3) 40%,    /* Orange moyen */
                    rgba(255, 179, 50, 0.15) 60%,   /* Orange faible */
                    transparent 80%
                );
            filter: blur(35px);
            animation: haloOrange 8s ease-in-out infinite;
            pointer-events: none;
            z-index: -5;
        }

        /* EFFET NACRÉ CIBLÉ - Seulement sur les bords comme une vraie nacre */
        .login-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background:
                /* Nacré sur le bord haut */
                linear-gradient(to bottom,
                    rgba(255, 255, 255, 0.4) 0%,
                    rgba(240, 248, 255, 0.2) 5%,
                    transparent 15%
                ),
                /* Nacré sur le bord gauche */
                linear-gradient(to right,
                    rgba(255, 248, 240, 0.3) 0%,
                    rgba(248, 255, 240, 0.15) 3%,
                    transparent 10%
                ),
                /* Nacré sur le bord droit */
                linear-gradient(to left,
                    rgba(248, 240, 255, 0.25) 0%,
                    rgba(255, 240, 248, 0.12) 3%,
                    transparent 10%
                );
            border-radius: 24px;
            pointer-events: none;
            animation: nacreShimmer 8s ease-in-out infinite;
        }

        /* EFFET REFLET LUMINEUX - Traverse le conteneur comme un prisme */
        .login-container::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background:
                linear-gradient(45deg,
                    transparent 40%,
                    rgba(255, 255, 255, 0.1) 45%,
                    rgba(255, 255, 255, 0.4) 48%,
                    rgba(255, 255, 255, 0.6) 50%,
                    rgba(255, 255, 255, 0.4) 52%,
                    rgba(255, 255, 255, 0.1) 55%,
                    transparent 60%
                );
            animation: prismReflection 6s ease-in-out infinite;
            pointer-events: none;
            border-radius: 24px;
        }

        @keyframes nacreShimmer {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }

        @keyframes prismReflection {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); opacity: 0; }
        }

        /* Effet nacré prismatique sur le conteneur */
        .login-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background:
                linear-gradient(135deg,
                    rgba(255, 248, 240, 0.08) 0%,
                    rgba(240, 255, 248, 0.06) 25%,
                    rgba(248, 240, 255, 0.07) 50%,
                    rgba(255, 255, 240, 0.05) 75%,
                    rgba(240, 248, 255, 0.08) 100%
                ),
                radial-gradient(ellipse at top left,
                    rgba(255, 255, 255, 0.15) 0%,
                    transparent 50%
                ),
                radial-gradient(ellipse at bottom right,
                    rgba(252, 248, 255, 0.1) 0%,
                    transparent 50%
                );
            border-radius: 24px;
            pointer-events: none;
            animation: pearlShimmer 12s ease-in-out infinite;
        }

        /* Effet de brillance mobile comme sur une perle */
        .login-container::after {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(
                45deg,
                transparent 30%,
                rgba(255, 255, 255, 0.4) 35%,
                rgba(255, 255, 255, 0.6) 40%,
                rgba(255, 255, 255, 0.4) 45%,
                transparent 50%
            );
            border-radius: 25px;
            animation: brillanceFlow 8s linear infinite;
            pointer-events: none;
            z-index: -1;
        }

        @keyframes pearlShimmer {
            0%, 100% {
                opacity: 0.6;
                transform: scale(1);
            }
            25% {
                opacity: 0.8;
                transform: scale(1.002);
            }
            50% {
                opacity: 1;
                transform: scale(1.001);
            }
            75% {
                opacity: 0.7;
                transform: scale(1.003);
            }
        }

        @keyframes brillanceFlow {
            0% { transform: translateX(-200%) translateY(-200%) rotate(45deg); }
            100% { transform: translateX(200%) translateY(200%) rotate(45deg); }
        }

        @keyframes containerShimmer {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

.header-section {
            text-align: center;
            padding: 48px 40px 32px 40px;
            background:
                radial-gradient(ellipse at center top,
                    rgba(255, 255, 255, 0.3) 0%,
                    rgba(255, 255, 255, 0.1) 40%,
                    transparent 100%
                );
            position: relative;
        }

        /* HALO DE LUMIÈRE derrière le titre */
        .header-section::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 100px;
            background:
                radial-gradient(ellipse,
                    rgba(255, 255, 255, 0.4) 0%,
                    rgba(240, 248, 255, 0.2) 30%,
                    transparent 70%
                );
            filter: blur(20px);
            pointer-events: none;
            animation: titleHalo 10s ease-in-out infinite;
        }

        @keyframes titleHalo {
            0%, 100% {
                opacity: 0.3;
                transform: translateX(-50%) scale(1);
            }
            50% {
                opacity: 0.7;
                transform: translateX(-50%) scale(1.2);
            }
        }

.app-title {
            font-size: 36px;
            font-weight: 700;
            background: linear-gradient(135deg,
                #1a1a1c 0%,
                #2c2c2e 30%,
                #48484a 50%,
                #2c2c2e 70%,
                #1a1a1c 100%
            );
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 12px;
            letter-spacing: -1.2px;
            position: relative;
            z-index: 10;
        }

        /* EFFET PRISME sur le titre - Reflet coloré subtil */
        .app-title::after {
            content: 'Affectia';
            position: absolute;
            top: 0;
            left: 0;
            background: linear-gradient(90deg,
                rgba(255, 107, 53, 0.1) 0%,    /* Orange */
                rgba(255, 235, 59, 0.1) 20%,   /* Jaune */
                rgba(76, 175, 80, 0.1) 40%,    /* Vert */
                rgba(33, 150, 243, 0.1) 60%,   /* Bleu */
                rgba(156, 39, 176, 0.1) 80%,   /* Violet */
                rgba(233, 30, 99, 0.1) 100%    /* Rose */
            );
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: prismTitle 8s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes prismTitle {
            0%, 100% { opacity: 0; }
            50% { opacity: 0.8; }
        }

        .app-title::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg,
                transparent,
                rgba(255, 255, 255, 0.3),
                transparent
            );
            animation: titleGleam 4s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes titleGleam {
            0%, 100% {
                transform: translateX(-100%);
                opacity: 0;
            }
            50% {
                transform: translateX(100%);
                opacity: 1;
            }
        }

        .app-subtitle {
            font-size: 17px;
            color: #6e6e73;
            font-weight: 400;
            line-height: 1.4;
            margin-bottom: 0;
        }

        .form-section {
            padding: 0 40px 48px 40px;
        }

        .step-indicator {
            display: flex;
            justify-content: center;
            margin-bottom: 32px;
            gap: 8px;
        }

        .step-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #e5e5ea;
            transition: all 0.3s ease;
        }

.step-dot.active {
            background: linear-gradient(135deg, #a855f7 0%, #06ffa5 100%);
            transform: scale(1.2);
            box-shadow: 0 0 10px rgba(168, 85, 247, 0.5);
        }

        .form-step {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s cubic-bezier(0.25, 0.1, 0.25, 1);
            display: none;
        }

        .form-step.active {
            opacity: 1;
            transform: translateY(0);
            display: block;
        }

        .form-group {
            margin-bottom: 24px;
            position: relative;
        }

        .form-label {
            display: block;
            font-size: 15px;
            font-weight: 500;
            color: #1d1d1f;
            margin-bottom: 8px;
            letter-spacing: -0.2px;
            transition: all 0.3s ease;
        }

        .form-input {
            width: 100%;
            padding: 18px 20px;
            border: 1.5px solid #e5e5ea;
            border-radius: 14px;
            font-size: 17px;
            background: rgba(255, 255, 255, 0.8);
            transition: all 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);
            font-family: inherit;
            backdrop-filter: blur(10px);
        }

.form-input:focus {
            outline: none;
            border-color: #a855f7;
            background: rgba(255, 255, 255, 0.95);
            box-shadow:
                0 0 0 4px rgba(168, 85, 247, 0.15),
                0 0 20px rgba(168, 85, 247, 0.1);
            transform: translateY(-1px);
        }

        .form-input::placeholder {
            color: #86868b;
            transition: all 0.3s ease;
        }

        .form-input:focus::placeholder {
            color: #c7c7cc;
        }

        .btn-primary {
            width: 100%;
            padding: 18px 20px;
            background: linear-gradient(135deg, #1d1d1f 0%, #424245 100%);
            color: white;
            border: none;
            border-radius: 14px;
            font-size: 17px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);
            font-family: inherit;
            letter-spacing: -0.3px;
            position: relative;
            overflow: hidden;
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.15), transparent);
            transition: left 0.6s ease;
        }

        .btn-primary:hover::before {
            left: 100%;
        }

.btn-primary:hover {
            background: linear-gradient(135deg, #2d2d30 0%, #515155 100%);
            transform: translateY(-2px);
            box-shadow:
                0 20px 40px rgba(0, 0, 0, 0.1),
                0 8px 16px rgba(0, 0, 0, 0.08),
                inset 0 1px 0 rgba(255, 255, 255, 0.15);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

.btn-secondary {
            width: 100%;
            padding: 16px 20px;
            background: transparent;
            color: #a855f7;
            border: 1.5px solid rgba(255, 255, 255, 0.2);
            border-radius: 14px;
            font-size: 15px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
            margin-top: 12px;
            position: relative;
            overflow: hidden;
        }

        .btn-secondary::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg,
                rgba(168, 85, 247, 0.1) 0%,
                rgba(6, 255, 165, 0.1) 50%,
                rgba(255, 183, 0, 0.1) 100%
            );
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .btn-secondary:hover {
            border-color: #a855f7;
            color: #06ffa5;
            transform: translateY(-1px);
            box-shadow:
                0 8px 20px rgba(168, 85, 247, 0.2),
                0 0 30px rgba(6, 255, 165, 0.1);
        }

        .btn-secondary:hover::before {
            opacity: 1;
        }

        .divider {
            margin: 32px 0;
            position: relative;
            text-align: center;
        }

        .divider::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, #e5e5ea, transparent);
        }

        .divider-text {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            padding: 0 16px;
            color: #86868b;
            font-size: 14px;
            font-weight: 500;
        }

        .error-message {
            background: rgba(255, 59, 48, 0.1);
            border: 1px solid rgba(255, 59, 48, 0.2);
            color: #d70015;
            padding: 16px 20px;
            border-radius: 12px;
            font-size: 14px;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 500;
        }

        .success-message {
            background: rgba(52, 199, 89, 0.1);
            border: 1px solid rgba(52, 199, 89, 0.2);
            color: #1f8f3b;
            padding: 16px 20px;
            border-radius: 12px;
            font-size: 14px;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 500;
        }

        /* Animation d'entrée */
        .login-wrapper {
            animation: slideIn 0.8s cubic-bezier(0.25, 0.1, 0.25, 1);
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(40px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        /* Responsive */
        @media (max-width: 480px) {
            .login-wrapper {
                margin: 10px;
            }

            .header-section {
                padding: 40px 30px 24px 30px;
            }

            .form-section {
                padding: 0 30px 40px 30px;
            }

            .app-title {
                font-size: 28px;
            }

            .form-input, .btn-primary {
                padding: 16px 18px;
                font-size: 16px;
            }
        }
/* HALO LUMINEUX JAUNE */
        .login-wrapper::before {
            content: '';
            position: absolute;
            top: -200px;
            left: -200px;
            right: -200px;
            bottom: -200px;
            background:
                radial-gradient(ellipse at center,
                    rgba(255, 193, 7, 0.6) 0%,      /* Jaune très intense */
                    rgba(255, 205, 25, 0.4) 25%,    /* Jaune intense */
                    rgba(255, 217, 45, 0.25) 45%,   /* Jaune moyen */
                    rgba(255, 229, 65, 0.12) 65%,   /* Jaune faible */
                    transparent 85%
                );
            filter: blur(40px);
            animation: haloJaune 10s ease-in-out infinite;
            pointer-events: none;
            z-index: -4;
        }

        /* HALO LUMINEUX VERT */
        .login-wrapper::after {
            content: '';
            position: absolute;
            top: -220px;
            left: -220px;
            right: -220px;
            bottom: -220px;
            background:
                radial-gradient(ellipse at center,
                    rgba(52, 199, 89, 0.5) 0%,      /* Vert très intense */
                    rgba(62, 209, 99, 0.35) 30%,    /* Vert intense */
                    rgba(72, 219, 109, 0.2) 50%,    /* Vert moyen */
                    rgba(82, 229, 119, 0.1) 70%,    /* Vert faible */
                    transparent 90%
                );
            filter: blur(45px);
            animation: haloVert 12s ease-in-out infinite;
            pointer-events: none;
            z-index: -3;
        }

        /* HALO LUMINEUX VERT */
        .login-wrapper::after {
            content: '';
            position: absolute;
            top: -160px;
            left: -160px;
            right: -160px;
            bottom: -160px;
            background:
                radial-gradient(ellipse at center,
                    rgba(76, 175, 80, 0.25) 0%,     /* Vert intense */
                    rgba(76, 175, 80, 0.12) 35%,    /* Vert moyen */
                    rgba(76, 175, 80, 0.05) 60%,    /* Vert faible */
                    transparent 80%
                );
            filter: blur(70px);
            animation: haloVert 14s ease-in-out infinite;
            pointer-events: none;
            z-index: -3;
        }

        /* HALOS SUPPLÉMENTAIRES POUR SPECTRE COMPLET */
        .login-wrapper {
            position: relative;
        }

        .login-wrapper::before {
            /* Code du halo jaune ci-dessus */
        }

        /* Ajouter les autres halos */
body::before {
            content: '';
            position: fixed;
            top: 50%;
            left: 50%;
            width: 1000px;
            height: 1000px;
            transform: translate(-50%, -50%);
            background:
                radial-gradient(ellipse at center,
                    rgba(0, 122, 255, 0.45) 0%,     /* Bleu très intense */
                    rgba(10, 132, 255, 0.3) 35%,    /* Bleu intense */
                    rgba(20, 142, 255, 0.18) 60%,   /* Bleu moyen */
                    rgba(30, 152, 255, 0.08) 80%,   /* Bleu faible */
                    transparent 95%
                );
            filter: blur(50px);
            animation: haloBleu 14s ease-in-out infinite;
            pointer-events: none;
            z-index: -2;
        }

        body::after {
            content: '';
            position: fixed;
            top: 50%;
            left: 50%;
            width: 1200px;
            height: 1200px;
            transform: translate(-50%, -50%);
            background:
                radial-gradient(ellipse at center,
                    rgba(175, 82, 222, 0.4) 0%,     /* Violet très intense */
                    rgba(185, 92, 232, 0.25) 40%,   /* Violet intense */
                    rgba(195, 102, 242, 0.15) 65%,  /* Violet moyen */
                    rgba(205, 112, 252, 0.07) 85%,  /* Violet faible */
                    transparent 100%
                );
            filter: blur(55px);
            animation: haloViolet 16s ease-in-out infinite;
            pointer-events: none;
            z-index: -1;
        }

        body::after {
            content: '';
            position: fixed;
            top: 50%;
            left: 50%;
            width: 900px;
            height: 900px;
            transform: translate(-50%, -50%);
            background:
                radial-gradient(ellipse at center,
                    rgba(156, 39, 176, 0.18) 0%,    /* Violet intense */
                    rgba(156, 39, 176, 0.08) 45%,   /* Violet moyen */
                    rgba(156, 39, 176, 0.03) 70%,   /* Violet faible */
                    transparent 90%
                );
            filter: blur(90px);
            animation: haloViolet 18s ease-in-out infinite;
            pointer-events: none;
            z-index: -1;
        }

        /* ANIMATIONS DES HALOS */
@keyframes haloRouge {
            0%, 100% {
                opacity: 0.8;
                transform: scale(1) rotate(0deg);
            }
            50% {
                opacity: 1;
                transform: scale(1.15) rotate(180deg);
            }
        }

        @keyframes haloOrange {
            0%, 100% {
                opacity: 0.7;
                transform: scale(1.05) rotate(0deg);
            }
            50% {
                opacity: 0.9;
                transform: scale(1.2) rotate(-180deg);
            }
        }

        @keyframes haloJaune {
            0%, 100% {
                opacity: 0.6;
                transform: scale(1.1) rotate(0deg);
            }
            50% {
                opacity: 0.85;
                transform: scale(1.25) rotate(180deg);
            }
        }

        @keyframes haloVert {
            0%, 100% {
                opacity: 0.5;
                transform: scale(1.15) rotate(0deg);
            }
            50% {
                opacity: 0.75;
                transform: scale(1.3) rotate(-180deg);
            }
        }

        @keyframes haloBleu {
            0%, 100% {
                opacity: 0.45;
                transform: translate(-50%, -50%) scale(1.2) rotate(0deg);
            }
            50% {
                opacity: 0.7;
                transform: translate(-50%, -50%) scale(1.35) rotate(180deg);
            }
        }

        @keyframes haloViolet {
            0%, 100% {
                opacity: 0.4;
                transform: translate(-50%, -50%) scale(1.25) rotate(0deg);
            }
            50% {
                opacity: 0.65;
                transform: translate(-50%, -50%) scale(1.4) rotate(-180deg);
            }
        }

        @keyframes haloOrange {
            0%, 100% {
                opacity: 0.35;
                transform: scale(1.05) rotate(0deg);
            }
            50% {
                opacity: 0.7;
                transform: scale(1.15) rotate(-180deg);
            }
        }

        @keyframes haloJaune {
            0%, 100% {
                opacity: 0.3;
                transform: scale(1.1) rotate(0deg);
            }
            50% {
                opacity: 0.6;
                transform: scale(1.2) rotate(180deg);
            }
        }

        @keyframes haloVert {
            0%, 100% {
                opacity: 0.25;
                transform: scale(1.15) rotate(0deg);
            }
            50% {
                opacity: 0.5;
                transform: scale(1.25) rotate(-180deg);
            }
        }

        @keyframes haloBleu {
            0%, 100% {
                opacity: 0.2;
                transform: translate(-50%, -50%) scale(1.2) rotate(0deg);
            }
            50% {
                opacity: 0.4;
                transform: translate(-50%, -50%) scale(1.3) rotate(180deg);
            }
        }

        @keyframes haloViolet {
            0%, 100% {
                opacity: 0.18;
                transform: translate(-50%, -50%) scale(1.25) rotate(0deg);
            }
            50% {
                opacity: 0.35;
                transform: translate(-50%, -50%) scale(1.35) rotate(-180deg);
            }
        }

 /* EFFET GLITCH sur le conteneur */
        .login-container {
            position: relative;
        }

        .login-container::before {
            /* ... garde le code existant des halos ... */
        }

        /* GLITCH EFFECT - Ajout d'un troisième pseudo-élément via JavaScript */
        @keyframes glitch {
            0%, 90%, 100% { transform: translate(0); }
            91% { transform: translate(-2px, -1px); }
            92% { transform: translate(2px, 1px); }
            93% { transform: translate(-1px, 2px); }
            94% { transform: translate(1px, -2px); }
            95% { transform: translate(-2px, 1px); }
        }

        @keyframes glitchColor {
            0%, 90%, 100% {
                filter: hue-rotate(0deg) contrast(1);
            }
            91% {
                filter: hue-rotate(90deg) contrast(1.2);
            }
            93% {
                filter: hue-rotate(180deg) contrast(0.8);
            }
            95% {
                filter: hue-rotate(270deg) contrast(1.1);
            }
        }

        /* PIXEL SORTING EFFECT */
        .login-wrapper {
            position: relative;
        }

        .login-wrapper::before {
            /* ... garde le code existant ... */
        }

        .login-wrapper::after {
            /* ... garde le code existant ... */
        }

        /* RAYONS LUMINEUX ARC-EN-CIEL */
        .rainbow-rays {
            position: fixed;
            top: 50%;
            left: 50%;
            width: 100vmax;
            height: 100vmax;
            transform: translate(-50%, -50%);
            background:
                conic-gradient(from 0deg at center,
                    transparent 0deg,
                    rgba(255, 0, 0, 0.1) 1deg,     /* Rouge */
                    transparent 3deg,
                    rgba(255, 127, 0, 0.08) 51deg,  /* Orange */
                    transparent 53deg,
                    rgba(255, 255, 0, 0.1) 101deg,  /* Jaune */
                    transparent 103deg,
                    rgba(0, 255, 0, 0.08) 151deg,   /* Vert */
                    transparent 153deg,
                    rgba(0, 255, 255, 0.1) 201deg,  /* Cyan */
                    transparent 203deg,
                    rgba(0, 0, 255, 0.08) 251deg,   /* Bleu */
                    transparent 253deg,
                    rgba(127, 0, 255, 0.1) 301deg,  /* Violet */
                    transparent 303deg,
                    rgba(255, 0, 255, 0.08) 351deg, /* Magenta */
                    transparent 353deg,
                    transparent 360deg
                );
            animation: rainbowRotation 25s linear infinite;
            pointer-events: none;
            z-index: -10;
        }

        @keyframes rainbowRotation {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        /* PIXEL SORTING sur les inputs */
        .form-input {
            position: relative;
            overflow: hidden;
        }

        .form-input::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background:
                repeating-linear-gradient(90deg,
                    transparent 0px,
                    rgba(255, 255, 255, 0.05) 1px,
                    transparent 2px,
                    rgba(0, 0, 0, 0.02) 3px,
                    transparent 4px
                );
            animation: pixelScan 3s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes pixelScan {
            0%, 100% { left: -100%; opacity: 0; }
            10%, 90% { opacity: 1; }
            50% { left: 100%; }
        }


</style>
</head>
<body>
    <div class="login-wrapper">
        <div class="login-container">
            <div class="header-section">
                <h1 class="app-title">Affectia</h1>
                <p class="app-subtitle">Automatisation intelligente des règles comptables</p>
            </div>

            <div class="form-section">
                <div class="step-indicator">
                    <div class="step-dot active" id="step1-dot"></div>
                    <div class="step-dot" id="step2-dot"></div>
                    <div class="step-dot" id="step3-dot"></div>
                </div>

                <!-- Messages d'erreur/succès -->
                <div id="error-message" class="error-message" style="display: none;"></div>
                <div id="success-message" class="success-message" style="display: none;"></div>

                <form id="loginForm" method="POST">
                    <!-- Étape 1: Email -->
                    <div class="form-step active" id="step1">
                        <div class="form-group">
                            <label for="email" class="form-label">Adresse e-mail</label>
                            <input type="email"
                                   class="form-input"
                                   id="email"
                                   name="email"
                                   placeholder="nom@exemple.com"
                                   required
                                   autocomplete="email">
                        </div>
                        <button type="button" class="btn-primary" onclick="nextStep()">
                            Continuer
                        </button>
                    </div>

                    <!-- Étape 2: Mot de passe -->
                    <div class="form-step" id="step2">
                        <div class="form-group">
                            <label for="password" class="form-label">Mot de passe</label>
                            <input type="password"
                                   class="form-input"
                                   id="password"
                                   name="password"
                                   placeholder="Votre mot de passe"
                                   required
                                   autocomplete="current-password">
                        </div>
                        <button type="submit" class="btn-primary">
                            Se connecter
                        </button>
                        <button type="button" class="btn-secondary" onclick="prevStep()">
                            Retour
                        </button>
                    </div>

                    <!-- Étape 3: Options -->
                    <div class="form-step" id="step3">
                        <div class="divider">
                            <span class="divider-text">ou</span>
                        </div>

                        <button type="button" class="btn-secondary" onclick="signInWithGoogle()">
                            Continuer avec Google
                        </button>

                        <div style="text-align: center; margin-top: 24px;">
                            <span style="color: #86868b; font-size: 14px;">Pas encore de compte ?</span><br>
<a href="/register" style="color: #a855f7; text-decoration: none; font-weight: 500; font-size: 15px; text-shadow: 0 0 10px rgba(168, 85, 247, 0.3);">
                                Créer un compte gratuitement
                            </a>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;

        function nextStep() {
            const email = document.getElementById('email').value;

            if (!email) {
                showError('Veuillez entrer votre adresse e-mail');
                return;
            }

            if (!isValidEmail(email)) {
                showError('Veuillez entrer une adresse e-mail valide');
                return;
            }

            hideMessages();

            // Animation vers l'étape suivante
            document.getElementById(`step${currentStep}`).classList.remove('active');
            document.getElementById(`step${currentStep}-dot`).classList.remove('active');

            currentStep++;

            setTimeout(() => {
                document.getElementById(`step${currentStep}`).classList.add('active');
                document.getElementById(`step${currentStep}-dot`).classList.add('active');
                document.getElementById('password').focus();
            }, 300);
        }

        function prevStep() {
            hideMessages();

            document.getElementById(`step${currentStep}`).classList.remove('active');
            document.getElementById(`step${currentStep}-dot`).classList.remove('active');

            currentStep--;

            setTimeout(() => {
                document.getElementById(`step${currentStep}`).classList.add('active');
                document.getElementById(`step${currentStep}-dot`).classList.add('active');
                if (currentStep === 1) {
                    document.getElementById('email').focus();
                }
            }, 300);
        }

        function isValidEmail(email) {
            return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
        }

        function showError(message) {
            const errorDiv = document.getElementById('error-message');
            errorDiv.textContent = message;
            errorDiv.style.display = 'block';
            document.getElementById('success-message').style.display = 'none';
        }

        function showSuccess(message) {
            const successDiv = document.getElementById('success-message');
            successDiv.textContent = message;
            successDiv.style.display = 'block';
            document.getElementById('error-message').style.display = 'none';
        }

        function hideMessages() {
            document.getElementById('error-message').style.display = 'none';
            document.getElementById('success-message').style.display = 'none';
        }

        function signInWithGoogle() {
            // TODO: Implémenter la connexion Google
            showError('Connexion Google en cours de développement');
        }

        // Gestion du formulaire
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;

            if (!password) {
                showError('Veuillez entrer votre mot de passe');
                return;
            }

            // Animation du bouton
            const submitBtn = document.querySelector('button[type="submit"]');
            submitBtn.textContent = 'Connexion en cours...';
            submitBtn.style.opacity = '0.7';
            submitBtn.disabled = true;

            // Simuler l'envoi (remplace par ton code de soumission)
            setTimeout(() => {
                // Restaurer le bouton en cas d'erreur
                submitBtn.textContent = 'Se connecter';
                submitBtn.style.opacity = '1';
                submitBtn.disabled = false;

                // Ici tu peux ajouter ta logique de connexion
                this.submit(); // Soumet le formulaire normalement
            }, 1000);
        });

        // Focus automatique et navigation clavier
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('email').focus();

            // Navigation avec Entrée
            document.getElementById('email').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    nextStep();
                }
            });

            document.getElementById('password').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    document.getElementById('loginForm').dispatchEvent(new Event('submit'));
                }
            });
        });
    </script>
</body>
</html>